(function(n){function f(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){var t=Math.random()*16|0;return(n=="x"?t:t&3|8).toString(16)})}var t={},u,i,r;t.ytplayers={};t.inits=[];t.iframeScriptInited=!1;t.inited=!1;n.tubeplayer={};n.tubeplayer.TubePlayer=t;n.tubeplayer.events={};n.tubeplayer.defaults={afterReady:function(){},stateChange:function(n){var t=this.onPlayer;return function(i){typeof i=="object"&&(i=i.data);switch(i){case-1:return t.unstarted[n]();case 0:return t.ended[n]();case 1:return t.playing[n]();case 2:return t.paused[n]();case 3:return t.buffering[n]();case 5:return t.cued[n]();default:return null}}},onError:function(n){var t=this.onErr;return function(i){typeof i=="object"&&(i=i.data);switch(i){case 2:return t.invalidParameter[n]();case 100:return t.notFound[n]();case 101:case 150:return t.notEmbeddable[n]();default:return null}}},qualityChange:function(n){var t=this;return function(i){return typeof i=="object"&&(i=i.data),t.onQualityChange[n](i)}},onQualityChange:{},onPlayer:{unstarted:{},ended:{},playing:{},paused:{},buffering:{},cued:{}},onErr:{notFound:{},notEmbeddable:{},invalidParameter:{}}};u={width:425,height:355,allowFullScreen:"true",initialVideo:"DkoeNLuMbcI",start:0,preferredQuality:"default",showControls:!0,showRelated:!1,annotations:!0,autoPlay:!1,autoHide:!0,loop:0,theme:"dark",color:"red",showinfo:!1,modestbranding:!0,protocol:"http",wmode:"transparent",swfobjectURL:"ajax.googleapis.com/ajax/libs/swfobject/2.2/swfobject.js",loadSWFObject:!0,allowScriptAccess:"always",playerID:"tubeplayer-player-container",iframed:!0,onPlay:function(){},onPause:function(){},onStop:function(){},onSeek:function(){},onMute:function(){},onUnMute:function(){},onPlayerUnstarted:function(){},onPlayerEnded:function(){},onPlayerPlaying:function(){},onPlayerPaused:function(){},onPlayerBuffering:function(){},onPlayerCued:function(){},onQualityChange:function(){},onErrorNotFound:function(){},onErrorNotEmbeddable:function(){},onErrorInvalidParameter:function(){}};n.fn.tubeplayer=function(i,r){var u=n(this),f=typeof i;return arguments.length===0||f==="object"?u.each(function(){t.init(n(this),i)}):f==="string"?u.triggerHandler(i+".tubeplayer",r||null):void 0};i=function(n){return function(i,r){var u=t.getPkg(i);return u.ytplayer?(i=n(i,r,u),typeof i=="undefined"&&(i=u.$player),i):u.$player}};n.tubeplayer.getPlayers=function(){return t.ytplayers};t.init=function(i,e){if(i.hasClass("jquery-youtube-tubeplayer"))return i;e=n.extend({},u,e);e.playerID+="-"+f();i.addClass("jquery-youtube-tubeplayer").data("opts.tubeplayer",e);for(var o in r)i.bind(o+".tubeplayer",i,r[o]);return t.initDefaults(n.tubeplayer.defaults,e),n("<div><\/div>").attr("id",e.playerID).appendTo(i),t.initPlayer(i,e),i};t.getPkg=function(n){n=n.data;var i=n.data("opts.tubeplayer");return{$player:n,opts:i,ytplayer:t.ytplayers[i.playerID]}};t.iframeReady=function(i){return(t.inits.push(function(){new YT.Player(i.playerID,{videoId:i.initialVideo,width:i.width,height:i.height,playerVars:{autoplay:i.autoPlay?1:0,autohide:i.autoHide?1:0,controls:i.showControls?1:0,loop:i.loop?1:0,playlist:i.loop?i.initialVideo:"",rel:i.showRelated?1:0,fs:i.allowFullScreen?1:0,wmode:i.wmode,showinfo:i.showinfo?1:0,modestbranding:i.modestbranding?1:0,iv_load_policy:i.annotations?1:3,start:i.start,theme:i.theme,color:i.color},events:{onReady:function(r){t.ytplayers[i.playerID]=r.target;r=n(r.target).parents(".jquery-youtube-tubeplayer");n.tubeplayer.defaults.afterReady(r)},onPlaybackQualityChange:n.tubeplayer.defaults.qualityChange(i.playerID),onStateChange:n.tubeplayer.defaults.stateChange(i.playerID),onError:n.tubeplayer.defaults.onError(i.playerID)}})}),t.inits.length>=1&&!t.inited)?function(){for(var n=0;n<t.inits.length;n++)t.inits[n]();t.inited=!0}:(t.inited&&t.inits.pop()(),window.onYouTubePlayerAPIReady)};t.supportsHTML5=function(){return!!document.createElement("video").canPlayType};t.initDefaults=function(n,t){var i=t.playerID,r=n.onPlayer;r.unstarted[i]=t.onPlayerUnstarted;r.ended[i]=t.onPlayerEnded;r.playing[i]=t.onPlayerPlaying;r.paused[i]=t.onPlayerPaused;r.buffering[i]=t.onPlayerBuffering;r.cued[i]=t.onPlayerCued;n.onQualityChange[i]=t.onQualityChange;n=n.onErr;n.notFound[i]=t.onErrorNotFound;n.notEmbeddable[i]=t.onErrorNotEmbeddable;n.invalidParameter[i]=t.onErrorInvalidParameter};t.initPlayer=function(n,i){i.iframed&&t.supportsHTML5()?t.initIframePlayer(n,i):t.initFlashPlayer(n,i)};t.initIframePlayer=function(n,i){if(!t.iframeScriptInited){n=document.createElement("script");n.src=i.protocol+"://www.youtube.com/iframe_api";var r=document.getElementsByTagName("script")[0];r.parentNode.insertBefore(n,r);t.iframeScriptInited=!0}window.onYouTubePlayerAPIReady=t.iframeReady(i)};t.initFlashPlayer=function(i,r){r.loadSWFObject?(r.swfobjectURL=r.swfobjectURL.replace("http://",""),r.swfobjectURL=r.swfobjectURL.replace("https://",""),r.swfobjectURL=r.protocol+"://"+r.swfobjectURL,n.getScript(r.swfobjectURL,t.initFlashPlayerFN(r))):t.initFlashPlayerFN(r)()};t.initFlashPlayerFN=function(i){return function(){var r=["//www.youtube.com/v/"];r.push(i.initialVideo);r.push("?&enablejsapi=1&version=3");r.push("&playerapiid="+i.playerID);r.push("&rel= "+(i.showRelated?1:0));r.push("&autoplay="+(i.autoPlay?1:0));r.push("&autohide="+(i.autoHide?1:0));r.push("&loop="+(i.loop?1:0));r.push("&playlist="+(i.loop?i.initialVideo:""));r.push("&controls="+(i.showControls?1:0));r.push("&showinfo="+(i.showinfo?1:0));r.push("&modestbranding="+(i.modestbranding?1:0));r.push("&iv_load_policy="+(i.annotations?1:3));r.push("&start="+i.start);r.push("&theme="+i.theme);r.push("&color="+i.color);r.push("&fs="+(i.allowFullScreen?1:0));swfobject.embedSWF(r.join(""),i.playerID,i.width,i.height,"8",null,null,{allowScriptAccess:i.allowScriptAccess,wmode:i.wmode,allowFullScreen:i.allowFullScreen},{id:i.playerID});window.onYouTubePlayerReady=function(i){var r=document.getElementById(i),u=i.replace(/-/g,""),f=n.tubeplayer.defaults;n.tubeplayer.events[u]={stateChange:f.stateChange(i),error:f.onError(i),qualityChange:f.qualityChange(i)};r.addEventListener("onStateChange","$.tubeplayer.events."+u+".stateChange");r.addEventListener("onError","$.tubeplayer.events."+u+".error");r.addEventListener("onPlaybackQualityChange","$.tubeplayer.events."+u+".qualityChange");t.ytplayers[i]=r;i=n(r).parents(".jquery-youtube-tubeplayer");n.tubeplayer.defaults.afterReady(i)}}};t.getVideoIDFromURL=function(n){var t,i;return(n=n||"",t=n.indexOf("?"),n=n.substring(t,n.length),t=n.indexOf("v="),t>-1)?(i=n.indexOf("&",t),i===-1&&(i=n.length),n.substring(t+2,i)):""};r={cue:i(function(n,t,i){i.ytplayer.cueVideoById(t,i.opts.preferredQuality)}),play:i(function(n,t,i){typeof t=="object"?i.ytplayer.loadVideoById(t.id,t.time,i.opts.preferredQuality):t?i.ytplayer.loadVideoById(t,0,i.opts.preferredQuality):i.ytplayer.playVideo();i.opts.onPlay(t)}),pause:i(function(n,t,i){i.ytplayer.pauseVideo();i.opts.onPause(i)}),stop:i(function(n,t,i){i.ytplayer.stopVideo();i.opts.onStop(i)}),seek:i(function(n,t,i){i.ytplayer.seekTo(t,!0);i.opts.onSeek(t)}),mute:i(function(n,t,i){i.$player.attr("data-prev-mute-volume",i.ytplayer.getVolume());i.ytplayer.mute();i.opts.onMute(i)}),unmute:i(function(n,t,i){i.ytplayer.unMute();i.ytplayer.setVolume(i.$player.attr("data-prev-mute-volume")||50);i.opts.onUnMute()}),isMuted:i(function(n,t,i){return i.ytplayer.isMuted()}),volume:i(function(n,t,i){if(t)i.ytplayer.setVolume(t),i.$player.attr("data-prev-mute-volume",i.ytplayer.getVolume());else return i.ytplayer.getVolume()||0}),quality:i(function(n,t,i){if(t)i.ytplayer.setPlaybackQuality(t);else return i.ytplayer.getPlaybackQuality()}),data:i(function(n,i,r){return n={},r=r.ytplayer,n.bytesLoaded=r.getVideoBytesLoaded(),n.bytesTotal=r.getVideoBytesTotal(),n.startBytes=r.getVideoStartBytes(),n.state=r.getPlayerState(),n.currentTime=r.getCurrentTime(),n.duration=r.getDuration(),n.videoURL=r.getVideoUrl(),n.getVideoEmbedCode=r.getVideoEmbedCode(),n.videoID=t.getVideoIDFromURL(n.videoURL),n.availableQualityLevels=r.getAvailableQualityLevels(),n}),videoId:i(function(n,i,r){return t.getVideoIDFromURL(r.ytplayer.getVideoUrl())}),size:i(function(t,i,r){i.width&&i.height&&(r.ytplayer.setSize(i.width,i.height),n(r.ytplayer).css(i))}),destroy:i(function(i,r,u){u.$player.removeClass("jquery-youtube-tubeplayer").data("opts.tubeplayer",null).unbind(".tubeplayer").html("");delete t.ytplayers[u.opts.playerID];i=n.tubeplayer.defaults;r=["unstarted","ended","playing","paused","buffering","cued"];for(var f in r)delete i.onPlayer[r[f]][u.opts.playerID];r=["notFound","notEmbeddable","invalidParameter"];for(f in r)delete i.onErr[r[f]][u.opts.playerID];return delete i.onQualityChange[u.opts.playerID],delete n.tubeplayer.events[u.opts.playerID],n(u.ytplayer).remove(),null}),player:i(function(n,t,i){return i.ytplayer})}})(jQuery);
//# sourceMappingURL=jQuery.tubeplayer.min.js.map
